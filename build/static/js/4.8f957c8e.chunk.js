(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{68:function(e,t,a){},70:function(e,t,a){"use strict";a.r(t);var n=a(43),r=a.n(n),c=a(46),l=a(69),o=a(0),s=a.n(o),u=a(47),i=a.n(u),m=a(66),f=a.n(m),d="https://5efabb3a80d8170016f758ee.mockapi.io",v=function(e){return f()(e).get("date")},p=i.a.create({timeout:1e6,baseURL:d});p.interceptors.request.use(function(e){return e},function(e){return Promise.reject(e)}),p.interceptors.response.use(function(e){return e.data},function(e){return Promise.reject(e)});var b=p,E="/products",g="/locations",j="/cart";var h=s.a.memo(function(e){var t=e.place,a=e.units,n=e.cost;return console.log("render"),s.a.createElement(s.a.Fragment,null,s.a.createElement("label",null,"Locations"),s.a.createElement("div",{className:"location"},s.a.createElement("div",{className:"location-item"},s.a.createElement("label",null,"Place"),s.a.createElement("div",{className:""},t)),s.a.createElement("div",{className:"location-item"},s.a.createElement("label",null,"Units"),s.a.createElement("div",{className:""},a)),s.a.createElement("div",{className:"location-item"},s.a.createElement("label",null,"Cost"),s.a.createElement("div",{className:""},n))))});h.defaultProps={place:null,units:0,cost:0};var O=h,x=(a(68),function(){var e=Object(o.useState)(!1),t=Object(l.a)(e,2),a=t[0],n=t[1],u=Object(o.useState)(!1),i=Object(l.a)(u,2),m=i[0],p=i[1],h=Object(o.useState)([]),x=Object(l.a)(h,2),N=x[0],_=x[1],w=Object(o.useState)([]),k=Object(l.a)(w,2),y=k[0],D=k[1],S=Object(o.useState)(""),Y=Object(l.a)(S,2),P=Y[0],C=Y[1],M=Object(o.useState)(""),L=Object(l.a)(M,2),T=L[0],U=L[1],q=Object(o.useState)(0),J=Object(l.a)(q,2),F=J[0],R=J[1],z=Object(o.useState)(0),A=Object(l.a)(z,2),B=A[0],G=A[1],H=function(){var e=Object(c.a)(r.a.mark(function e(t){var a,n;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),P&&T){e.next=4;break}return alert("Please choose product or date"),e.abrupt("return");case 4:return a={date:P,product:T,locations:{id:4,quantity:F}},console.log("submit",a),e.prev=6,p(!0),e.next=10,r=a,b.post(d+j,r);case 10:(n=e.sent)&&"success"===n.status&&alert("Complete!"),console.log(n),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(6),console.log(e.t0);case 18:return e.prev=18,p(!1),e.finish(18);case 21:case"end":return e.stop()}var r},e,null,[[6,15,18,21]])}));return function(t){return e.apply(this,arguments)}}(),I=function(){var e=new Date;e.setDate(e.getDate()+1);var t=f()(e).format("YYYY-MM-DD");return{min:t,max:f()(t).add(7,"days").format("YYYY-MM-DD")}}(),K=I.min,Q=I.max,V=function(){var e=Object(c.a)(r.a.mark(function e(){var t;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.get(d+E);case 3:t=e.sent,console.log(t),_(t),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:return e.prev=11,console.log("finally"),e.finish(11);case 14:case"end":return e.stop()}},e,null,[[0,8,11,14]])}));return function(){return e.apply(this,arguments)}}(),W=function(){var e=Object(c.a)(r.a.mark(function e(){var t;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n(!0),e.next=4,b.get(d+g);case 4:t=e.sent,console.log(t),D(t),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:return e.prev=12,n(!1),e.finish(12);case 15:case"end":return e.stop()}},e,null,[[0,9,12,15]])}));return function(){return e.apply(this,arguments)}}(),X=function(e,t){return e[t]?e[t]:e[Object.keys(e)[Object.keys(e).length-1]]},Z=function(e,t){var a=y[3].max_dist;if(console.log(a,"max_dist"),e>a)return alert("The location units cannot be larger than the locations Max Distribution value"),void $();C(t),R(e)},$=function(){return C("")};return Object(o.useEffect)(function(){V(),W()},[]),a?s.a.createElement("div",null,"loading..."):s.a.createElement("main",{className:"main"},s.a.createElement("div",{className:"cal-form"},s.a.createElement("form",{onSubmit:H},s.a.createElement("div",{className:"cal-form__field"},s.a.createElement("label",null,"Product"),s.a.createElement("select",{name:"product",onChange:function(e){var t=e.target;return U(t.value)}},s.a.createElement("option",{value:""},"choose"),N.map(function(e){return s.a.createElement("option",{key:e.id,value:e.id},e.name)}))),s.a.createElement("div",{className:"cal-form__field"},s.a.createElement("label",null,"Date"),s.a.createElement("input",{type:"date",value:P,min:K,max:Q,name:"date",id:"date",onChange:function(e){var t=e.target;if(!T)return alert("Please select product !"),void $();var a=function(e){var t=new Date,a=v(t);return v(e)-a}(t.value);if(a&&a>0){var n=N.filter(function(e){return e.id===T})[0],r=X(n.max_production,a);console.log(r),Z(r,t.value),G(n.price_per_unit)}}})),s.a.createElement("div",{className:"cal-form__field"},s.a.createElement(O,{place:y[3],units:F,cost:F*B})),s.a.createElement("div",{className:"cal-form__field"},s.a.createElement("label",null,"Total Units"),s.a.createElement("div",null,F)),s.a.createElement("div",{className:"cal-form__field"},s.a.createElement("label",null,"Total Cost"),s.a.createElement("div",null,F*B)),m?s.a.createElement("div",null,"Loading..."):s.a.createElement("button",{type:"submit",className:"btn"},"Submit"))))});a.d(t,"default",function(){return x})}}]);
//# sourceMappingURL=4.8f957c8e.chunk.js.map